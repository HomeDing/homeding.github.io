---
title: Color Element
id: color
tags: ["Element", "Light"]
layout: "page.njk"
description: Support Color values for light controlling elements. 
excerpt: >
  The Color Element allows controlling a value for a light emitting element using the
  color values in the xrrggbb or xwwrrggbb format and brightness 0..100.
  A special Web UI is available.
---

The value generated by the color element can be used to control light elements like
* [Light Element](/elements/light.md)
* [MY9291 Element](/elements/my9291.md)
* [Neo Element](/elements/neo.md)


## Web UI for the Color Element

There is a dedicated card for this element that allows controlling the value using sliders:

![Color Element Web UI](/elements/colorui.png)

The Web UI of the color element includes:
* Output of the current value in string notation and as a color element.
* The color element can be clicked to select a new color using a standart input[type=color] element.
* A slider to control the white part of the color value separately.
* A slider to control the overall brightness.
* Buttons to control the mode. 

The slider for the white part of the value is only shown in `WRGB` mode.

The color value and the effective color from the sliders 1-3 is shown above the hue slider
while the white value from the sliders 4 is not shown.

## Element Configuration

<object data="/element.svg?color" type="image/svg+xml"></object>

The following properties are available for configuration of the element.

**config** - The color can be set to `RGB` or `WRGB` to include the white part in the value. Default is `RGB`.

**mode** - The effect to be used. possible values are `fix`, `fade`, `wheel` and `pulse`.
The default setting is is `fix`.
See explanation for `Color mode` below. 

**value** - Is used to set the new color value in mode `fix` or `fade`.

**duration** - This parameter is used to specify the time for a transition in mode `fade`, `wheel` and `pulse`.

**brightness** - This parameter is used to specify the overall brightness of a light as a factor to the given color value
and effects.

**onValue** - These actions are send when the value has changed.

**onBrightness** - These actions are send when the brightness has changed.

<!-- 
TODO:
**useState** - This configuration can be set to true to persist the current color and brightness values in the state memory.
-->

{% include "./elementproperties.md" %}



## Colors

Colors can be specified by the notation xWWRRGGBB or xRRGGBB similar to the web color values.

Some fix names are supported:

* **black** -- x00000000
* **red**   -- x00FF0000
* **green** -- x0000FF00
* **blue**  -- x000000FF
* **white** -- xFFFFFFFF


## Wheel mode

This mode is activated by setting the `mode` property to `wheel`.

In this mode the color is changing slowly through all colors of the RGB by changing the **hue** value.

The **duration** parameter is used to specify the number you of milliseconds for a complete cycle.

Example:

``` txt
color/0?mode=wheel
```

## Pulse mode

This mode is activated by setting the `mode` property to `pulse`.

In this mode the color is changing slowly by raising and lowering the **lightness** value.

The **hue** and **saturation** is used to convert from hsl to rgb.

The **duration** parameter is used to specify the number you of milliseconds for a complete cycle.

Example:

``` txt
color/0?value=green
color/0?mode=pulse
```

## Example configuration

see [Bulb board](/boards/bulb.md)


## See also

* Good hardware tips from <https://learn.adafruit.com/adafruit-neopixel-uberguide/powering-neopixels>
* [Light Element](/elements/light.md)
* [MY9291 Element](/elements/my9291.md)
* [Neo Element](/elements/neo.md)
