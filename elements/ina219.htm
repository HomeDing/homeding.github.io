
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>INA219 Element</title>
    <script src="/pages.js"></script>
    <link content-type="text/css" href="/docstyle.css" rel="stylesheet"/>
    <script src="/story.js" type="module"></script>
    <link rel="icon" type="image/png" href="/favicon48.png" sizes="48x48">
    <meta name='description' content='Support of the INA219 current and voltage sensor chips.'>
    <meta name="google-site-verification" content="7tTF0t5uCMnyE6X31OIOQpcOf4QxWuODtyZLoVsKCEc"/>
    <meta name="msvalidate.01" content="7FC9C7BCD4002EBD89AAC2EF63D7B353"/>
  </head>
  <body scroll="0" style="padding:0;">
    <div class="u-navbar" style="margin-bottom: 0;">
      <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 48 48" id="menuButton" class="button" style="height:1.4rem">
        <path fill="white" d="M0 8h48v6H0zm0 13h48v6H0zm0 13h48v6H0z"/>
      </svg>
      <a href="/index.htm" class="button">Home</a>
      <a href="/elements/index.htm" class="button">Elements</a>
      <a href="/boards/index.htm" class="button">Boards</a>
      <a href="/recipes/index.htm" class="button">Recipes</a>
    </div>
    <nav></nav>
    <main style="padding:1rem;max-width: 800px;">
      <h1>INA219 Element</h1>
      
        
          <div class="iconcard">
            <svg class="icon">
              <use href="/icons.svg#ina219"></use>
            </svg>
          
            The INA219 is a current and voltage sensor that uses the I2C bus for communication that can measure voltages up to 26V and current in various ranges.

          </div>
        
        <p>The chip can easily be adapted to any Arduino microcontroller including ESP6266 and EPS32 as
it can be powered by 3.3V to 5V.</p>
<p>It can be used as a monitor for voltage and current but also provides power consumption calculation.</p>
<p>The INA260 based sensors can also be controlled using this element.</p>
<h2>Sensor Connectivity</h2>
<p>The sensor chip uses a 3.3 V Supply voltage on VCC and GND and needs to be connected to the SDA and SCL line of the I2C bus. The I2C pins are configured using the properties of the device element and the I2C bus is normally shared by multiple elements e.g. sensors.</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"device"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"0"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"i2c-scl"</span><span class="token operator">:</span> <span class="token string">"D2"</span><span class="token punctuation">,</span>
      <span class="token property">"i2c-sda"</span><span class="token operator">:</span> <span class="token string">"D1"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>The default I2C address of the INA219 on the I2C bus is 0x40.</p>
<h2>Element Configuration</h2>
<p>The following properties are available for configuration of the element.</p>
<p><object data="/element.svg?ina219" type="image/svg+xml"></object></p>
<p><strong>address</strong> - The I2C address of the sensor. The default value is 0x40.</p>
<p><strong>readTime</strong> -??? Time between 2 probes from the sensor are fetched. The default value is 1 minute.</p>
<h3>Configuration Example</h3>
<p>This example shows how to configure this element:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"ina219"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"0"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"sensor"</span><span class="token punctuation">,</span>
      <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Voltage and Current Sensor"</span><span class="token punctuation">,</span>
      <span class="token property">"range"</span><span class="token operator">:</span> <span class="token string">"32"</span><span class="token punctuation">,</span>
      <span class="token property">"samples"</span><span class="token operator">:</span> <span class="token string">"12bit"</span><span class="token punctuation">,</span>
      <span class="token property">"gain"</span><span class="token operator">:</span> <span class="token string">"320"</span><span class="token punctuation">,</span>


      <span class="token property">"warmuptime"</span><span class="token operator">:</span> <span class="token string">"2s"</span><span class="token punctuation">,</span>
      <span class="token property">"readtime"</span><span class="token operator">:</span> <span class="token string">"10s"</span><span class="token punctuation">,</span>
      <span class="token property">"onVoltage"</span><span class="token operator">:</span> <span class="token string">"displaytext/v?value=$v"</span><span class="token punctuation">,</span>
      <span class="token property">"onCurrent"</span><span class="token operator">:</span> <span class="token string">"displaytext/a?value=$v,log/a?value=$v"</span><span class="token punctuation">,</span>
      <span class="token property">"onPower"</span><span class="token operator">:</span> <span class="token string">"displaytext/p?value=$v"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2>See also</h2>
<ul>
<li>Datasheet from Texas Instruments <a href="https://www.ti.com/lit/ds/symlink/ina219.pdf">https://www.ti.com/lit/ds/symlink/ina219.pdf</a></li>
<li><a href="https://diyi0t.com/ina219-tutorial-for-arduino-and-esp/">https://diyi0t.com/ina219-tutorial-for-arduino-and-esp/</a></li>
<li><a href="https://i2cdevices.org/addresses">https://i2cdevices.org/addresses</a></li>
</ul>

        
          <h2>Tags</h2>
          <div class="taglist">
            
              <a href="/tag/element.htm">Element</a>
            
          </div>
        
      </main>
      <script>
        const param = {
          MENU_MIN_WIDTH: 1030
        };
        var mbObj = document.querySelector('#menuButton');
        var navObj = document.querySelector('nav');
        if (window.innerWidth > param.MENU_MIN_WIDTH) { // menu is inside the page
          navObj.classList.add('open');
          navObj.classList.add('inpage');
        }
        mbObj.addEventListener('click', function (e) {
          navObj.classList.toggle('open');
        });
        lazyLoadHTM('nav', '/toc.htm');
      </script>

      <script type="module" async>
        import mermaid from "https://unpkg.com/mermaid@10/dist/mermaid.esm.min.mjs";
        document.addEventListener('DOMContentLoaded', mermaid.initialize({startOnLoad: true}));
      </script>

    </body>
  </body>
</html>