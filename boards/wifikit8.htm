<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="google-site-verification" content="7tTF0t5uCMnyE6X31OIOQpcOf4QxWuODtyZLoVsKCEc" />
  <meta name="msvalidate.01" content="7FC9C7BCD4002EBD89AAC2EF63D7B353" />
  <link rel="icon" type="image/png" href="favicon48.png" sizes="48x48">
  <meta name='description' content=''>
  <title>Board Review of Wifi Kit 8 Module ESP8266 with OLED</title>
  <link Content-Type="text/css" href="/docstyle.css" rel="stylesheet" />
  <script src="/pages.js"></script>
  <style>
  .gpio { 
    display:inline-block;
    padding: 0 4px;
    border-radius: 4px;
    }
  .gpio.yellow {background-color: #FF0;}
  .gpio.red {background-color: #F22; color:white}
  .gpio.black {background-color: #111; color:white}
  .gpio.blue {background-color: #22F; color:white}
  </style>
</head>

<body scroll="0" style="padding:0;">
  <div class="u-navbar" style="margin-bottom: 0;">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 48 48" id="menuButton" class="button" style="height:1.4rem">
      <path fill="white" d="M0 8h48v6H0zm0 13h48v6H0zm0 13h48v6H0z" />
    </svg>

    <a href="/index.htm" class="button">Home</a>
    <a href="/concepts/index.htm" class="button">Concepts</a>
    <a href="/elements/index.htm" class="button">Elements</a>
    <a href="/boards/index.htm" class="button">Boards</a>
    <a href="/recipes/index.htm" class="button">Recipes</a>
  </div>

  <nav class="inpage open"></nav>

  <main style="padding:1rem">
    <h1>Board Review of Wifi Kit 8 Module ESP8266 with OLED</h1>
<p><img src="/boards/wifikit8.jpg" alt="wifikit8 board"></p>
<p>I bought a Wifi-Kit 8 from eBay because I was searching for small size ESP8266 boards with onboard display.</p>
<p>The official documentation can be found at <a href="http://heltec.cn">heltec.cn</a>. There is a possibility to switch to the English language.</p>
<h2>Overview</h2>
<p>Programming of this board can be done using the <code>NodeMCU 1.0 (ESP12-E Module)</code> setup of the standard boards.</p>
<p>The board settings and the additional features can be found here:</p>
<table>
<thead>
<tr>
<th>Feature</th>
<th>Specific</th>
</tr>
</thead>
<tbody>
<tr>
<td>I2C display address</td>
<td>60 (=0x3c)</td>
</tr>
<tr>
<td>Display size</td>
<td>128 * 32</td>
</tr>
<tr>
<td>Display chip</td>
<td>SSD1306</td>
</tr>
<tr>
<td>Flash</td>
<td>4 Mbyte</td>
</tr>
<tr>
<td>USB Adapter chip</td>
<td>CP2104</td>
</tr>
<tr>
<td>Integrated Charger</td>
<td>LiPo batteries 3.7V</td>
</tr>
<tr>
<td>Battery connector</td>
<td>JST 1.25mm 2 pins</td>
</tr>
<tr>
<td>Selected Board</td>
<td>NodeMCU 1.0 (ESP12-E Module)</td>
</tr>
<tr>
<td>CPU Frequency</td>
<td>80 MHz</td>
</tr>
<tr>
<td>VTables</td>
<td>Flash</td>
</tr>
<tr>
<td>Flash Size</td>
<td>4M (1M SPIFFS)</td>
</tr>
<tr>
<td>IwIP Variant</td>
<td>v2 Lower Memory</td>
</tr>
<tr>
<td>Debug Port</td>
<td>Serial</td>
</tr>
<tr>
<td>Debug Level</td>
<td>None</td>
</tr>
<tr>
<td>Erase Sketch</td>
<td>Only Sketch</td>
</tr>
<tr>
<td>Upload Speed</td>
<td>115200</td>
</tr>
<tr>
<td>Builtin LED</td>
<td>none</td>
</tr>
</tbody>
</table>
<p>Here is the connector / function Overview. Be aware hat the SCL and SDA labels are not corresponding to the I2C bus used for the OLED.</p>
<p>There are 2 pin diagrams on this site. Be sure to get the right one. (see Links).</p>
<p><img src="/boards/wifikit8pins.png" alt="wifikit8  pins"></p>
<h2>OLED Display</h2>
<p>The OLED display is the only embedded component on this board. It uses the same SSD1306 driver chip like the on in the
<a href="/boards/wroom2.htm">wroom2 board</a> board but only provides 32px in height.</p>
<p>The I2C bus for the display is using GPIO4 and GPIO5 and the I2C address is 0x3c.</p>
<p>It can used using the DisplayAdapterSSD1306 and the library „ESP8266 and ESP32 OLED Driver for SSD1306 display“.</p>
<p>This board also connects the RESET pin of the display. Here the GPIO16(D0) was chosen by the board designer to enable an explicit reset of the OLED driver chip.</p>
<p>This pin needs also requires some coding because a short LOW impulse is required to start the display properly and then the pin must be set to HIGH again during operation.</p>
<pre class="language-cpp"><code class="language-cpp"><span class="token function">pinMode</span><span class="token punctuation">(</span>D0<span class="token punctuation">,</span> OUTPUT<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">digitalWrite</span><span class="token punctuation">(</span>D0<span class="token punctuation">,</span> LOW<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// pull low to reset OLED</span><br><span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">digitalWrite</span><span class="token punctuation">(</span>D0<span class="token punctuation">,</span> HIGH<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// while OLED is running, must set D0 in high</span></code></pre>
<h2>OnBoard LED</h2>
<p>There is no usable LED on board.
The orange one is connected to the MIC73831 charging circuit</p>
<h2>Battery Connector</h2>
<p>On Board is a 3.7 V Lithium battery charging circuit available. The +/- is printed on the board.
The LiPo connector is type JST with 1.25mm pin distance.</p>
<h2>Critics</h2>
<p>The Wifi Kit 8 Module is not designed to be used for <a href="/boards/deepsleep.htm">deep sleep mode</a>:</p>
<p>The GPIO16(D0) pin is required to be connected to RESET to support Deep Sleep but it is also required
to be pulled to low to reset the display - causing a reset.</p>
<p>Anyhow, the OLED on the board requires some relevant current so long term operation on battery was not in focus for this board.</p>
<h2>System configuration</h2>
<p>The following env.json file can be used on these boards:</p>
<p><strong>env.json</strong></p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"device"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"0"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"wifikitding"</span><span class="token punctuation">,</span><br>      <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"Wifi Kit 8 Module"</span><span class="token punctuation">,</span><br>      <span class="token property">"loglevel"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>      <span class="token property">"reboottime"</span><span class="token operator">:</span> <span class="token string">"24h"</span><span class="token punctuation">,</span><br>      <span class="token property">"button"</span><span class="token operator">:</span> <span class="token string">"D3"</span><span class="token punctuation">,</span><br>      <span class="token property">"led"</span><span class="token operator">:</span> <span class="token string">"D4"</span><span class="token punctuation">,</span><br>      <span class="token property">"safemode"</span><span class="token operator">:</span> <span class="token string">"false"</span><span class="token punctuation">,</span><br>      <span class="token property">"I2C-SDA"</span><span class="token operator">:</span> <span class="token string">"D2"</span><span class="token punctuation">,</span><br>      <span class="token property">"I2C-SCL"</span><span class="token operator">:</span> <span class="token string">"D1"</span><span class="token punctuation">,</span><br>      <span class="token property">"logfile"</span><span class="token operator">:</span> <span class="token string">"true"</span><br><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><br>  <span class="token property">"ota"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"0"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>      <span class="token property">"port"</span><span class="token operator">:</span> <span class="token number">8266</span><span class="token punctuation">,</span><br>      <span class="token property">"passwd"</span><span class="token operator">:</span> <span class="token string">"123"</span><span class="token punctuation">,</span><br>      <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"allow Over the Air Updates"</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><br>  <span class="token property">"ssdp"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"0"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>      <span class="token property">"manufacturer"</span><span class="token operator">:</span> <span class="token string">"Matthias Hertel"</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><br>  <span class="token property">"DisplaySSD1306"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"0"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>      <span class="token property">"address"</span><span class="token operator">:</span> <span class="token string">"60"</span><span class="token punctuation">,</span><br>      <span class="token property">"resetpin"</span> <span class="token operator">:</span> <span class="token string">"D0"</span><span class="token punctuation">,</span><br>      <span class="token property">"height"</span><span class="token operator">:</span> <span class="token number">32</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<p>The onboard button labeled &quot;PRG&quot; pulls D3 down and can be used with a digital input and the display can be used to show some information.</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span><br>  <span class="token property">"digitalin"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>    <span class="token property">"D3"</span><span class="token operator">:</span> <span class="token punctuation">{</span><br>      <span class="token property">"loglevel"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span><br>      <span class="token property">"pin"</span><span class="token operator">:</span> <span class="token string">"D3"</span><span class="token punctuation">,</span><br>      <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"onboard button signal"</span><span class="token punctuation">,</span><br>      <span class="token property">"inverse"</span><span class="token operator">:</span> <span class="token string">"true"</span><span class="token punctuation">,</span><br>      <span class="token property">"pullup"</span><span class="token operator">:</span> <span class="token string">"true"</span><span class="token punctuation">,</span><br>      <span class="token property">"onvalue"</span><span class="token operator">:</span> <span class="token string">"device/0?log=D3:$v"</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
<h2>See also</h2>
<ul>
<li><a href="/dev/i2c.htm">Using the I2C bus</a></li>
<li>Product page at <a href="http://heltec.cn">heltec.cn</a>: <a href="https://www.heltec.cn/project/wifi-kit-8/?lang=en">https://www.heltec.cn/project/wifi-kit-8/?lang=en</a></li>
<li>Diagram <a href="https://www.heltec.cn/download/WIFI_Kit_8_Diagram.pdf">https://www.heltec.cn/download/WIFI_Kit_8_Diagram.pdf</a> Be aware that there is another diagram picture there that is wrong for my board.</li>
<li>The Wifi-Kit 8 SDK is a copy of the ESPRESSIV project and a selected list of libraries.
It is a good source for ideas, however, I prefer using the golden sources of the SDK and libraries:
<a href="https://github.com/Heltec-Aaron-Lee/WiFi_Kit_series">https://github.com/Heltec-Aaron-Lee/WiFi_Kit_series</a></li>
<li>A summary to use this board <a href="https://robotzero.one/heltec-wifi-kit-8/">https://robotzero.one/heltec-wifi-kit-8/</a></li>
</ul>

  </main>

  <script>
    var mbObj = document.querySelector('#menuButton');
    var navObj = document.querySelector('nav');

    navObj.classList.toggle('open', (window.innerWidth > 880));

    mbObj.addEventListener('click', function (e) {
      navObj.classList.toggle('open');
    });

    lazyLoadHTM('nav', '/toc.htm');
  </script>
  
  </body>

</html>