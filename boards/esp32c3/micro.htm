
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ESP32-C3 micro board with OLED display</title>
  <script src="/pages.js"></script>
  <link content-type="text/css" href="/docstyle.css" rel="stylesheet"/>
  <script src="/story.js" type="module"></script>
  <link rel="icon" type="image/png" href="/favicon48.png" sizes="48x48">
  <meta name='description' content='Very small ESP32-C3 Board with OLED display.'>
  <meta name="google-site-verification" content="7tTF0t5uCMnyE6X31OIOQpcOf4QxWuODtyZLoVsKCEc"/>
  <meta name="msvalidate.01" content="7FC9C7BCD4002EBD89AAC2EF63D7B353"/>
</head>

<body class="sitelayout" style="--content-width:800px">
  <div class="navbar">
    <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 48 48" id="menuButton" class="button" style="height:1.4rem">
      <path fill="white" d="M0 8h48v6H0zm0 13h48v6H0zm0 13h48v6H0z"/>
    </svg>
    <a href="/index.htm" class="button">Home</a>
    <a href="/elements/index.htm" class="button">Elements</a>
    <a href="/boards/index.htm" class="button">Boards</a>
    <a href="/recipes/index.htm" class="button">Recipes</a>
  </div>
  
  <nav class="menu"></nav>

  <main>
    <h1>ESP32-C3 micro board with OLED display</h1>

    
      <div class="card-container horizontal text" style="--card-height:5rem;--card-image-size:5rem;">
        <div class="card">
          
          <div class="body">
            <p>This is very small board based on EPS32-C3 with an 0.42&quot; onboard OLED display and a single NeoPixel.</p>

          </div>
        </div>
      </div>
    

    <p><img src="micro.jpg" alt="ESP32-C3 micro board with LCD"></p>
<p>This board is not supported by Adafruit library. Some small modifications must be made that can be found in
<a href="https://github.com/mathertel/Adafruit_SSD1306">https://github.com/mathertel/Adafruit_SSD1306</a>.</p>
<p>This board comes with</p>
<ul>
<li>4MB Flash</li>
<li>Ceramic WiFi Antenna</li>
<li>One Neo Pixel/WS2812 LED.</li>
<li>QWIIC compatible socket for wiring I2c based sensors.</li>
<li>OLED display based on SSD1306 chip attached through I2C Interface.</li>
<li>USB-C connector, directly connected to ESP32-C3 processor.</li>
<li>5V to 3.3V regulator on board.</li>
</ul>
<h2>WS2812 RGB LED</h2>
<ul>
<li>This LED is attached to the pin GPIO 2 and can be controlled by using a <a href="/elements/light/neo.htm">Neo Element</a>.</li>
</ul>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"neo"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"bar"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"pin"</span><span class="token operator">:</span> <span class="token string">"2"</span><span class="token punctuation">,</span>
      <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"red"</span><span class="token punctuation">,</span>
      <span class="token property">"count"</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2>System configuration</h2>
<p>This <strong>env.json</strong> file can be used as a starting point for configuring this board type.</p>
<p>It contains the onboard special hardware initialization for the IO09 button, the OLED display and the
neopixel.</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"device"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"0"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"microc3"</span><span class="token punctuation">,</span>
      <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"micro esp32c3 with OLED display and Neopixel."</span><span class="token punctuation">,</span>
      <span class="token property">"loglevel"</span><span class="token operator">:</span> <span class="token string">"2"</span><span class="token punctuation">,</span>
      <span class="token property">"button"</span><span class="token operator">:</span> <span class="token string">"9"</span><span class="token punctuation">,</span>
      <span class="token property">"logfile"</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
      <span class="token property">"safemode"</span><span class="token operator">:</span> <span class="token string">"false"</span><span class="token punctuation">,</span>
      <span class="token property">"homepage"</span><span class="token operator">:</span> <span class="token string">"/board.htm"</span><span class="token punctuation">,</span>
      <span class="token property">"cache"</span><span class="token operator">:</span> <span class="token string">"max-age=600"</span><span class="token punctuation">,</span>
      <span class="token property">"i2c-SDA"</span><span class="token operator">:</span> <span class="token string">"5"</span><span class="token punctuation">,</span>
      <span class="token property">"i2c-SCL"</span><span class="token operator">:</span> <span class="token string">"6"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"ota"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"0"</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"ntptime"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"0"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"zone"</span><span class="token operator">:</span> <span class="token string">"CET-1CEST,M3.5.0,M10.5.0/3"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"DisplaySSD1306"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"0"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"address"</span><span class="token operator">:</span> <span class="token string">"60"</span><span class="token punctuation">,</span>
      <span class="token property">"brightness"</span><span class="token operator">:</span> <span class="token string">"128"</span><span class="token punctuation">,</span>
      <span class="token property">"width"</span><span class="token operator">:</span> <span class="token number">72</span><span class="token punctuation">,</span>
      <span class="token property">"height"</span><span class="token operator">:</span> <span class="token number">40</span><span class="token punctuation">,</span>
      <span class="token property">"rotation"</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"neo"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"bar"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"pin"</span><span class="token operator">:</span> <span class="token string">"2"</span><span class="token punctuation">,</span>
      <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"red"</span><span class="token punctuation">,</span>
      <span class="token property">"count"</span><span class="token operator">:</span> <span class="token number">1</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2>Device configuration</h2>
<p>The <strong>config.json</strong> file will contain the functionality of the device. This is a minimal configuration that</p>
<ul>
<li>displays the current time</li>
<li>and a digitalin element to support the :</li>
</ul>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"displaytext"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"time"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"x"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">"y"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">"value"</span><span class="token operator">:</span> <span class="token string">"21:08"</span><span class="token punctuation">,</span>
      <span class="token property">"fontsize"</span><span class="token operator">:</span> <span class="token number">24</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"value"</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"bright"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"min"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
      <span class="token property">"max"</span><span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span>
      <span class="token property">"value"</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
      <span class="token property">"onvalue"</span><span class="token operator">:</span> <span class="token string">"DisplaySSD1306/0?brightness=$v"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token property">"time"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"clock"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"onminute"</span><span class="token operator">:</span> <span class="token string">"displaytext/time?value=$v"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"digitalin"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"9"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"pin"</span><span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">,</span>
      <span class="token property">"pullup"</span><span class="token operator">:</span> <span class="token string">"true"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2>See Also</h2>
<ul>
<li><a href="/boards/esp32c3/index.htm">ESP32-C3 Boards</a></li>
<li><a href="https://github.com/01Space/ESP32-C3-0.42LCD">https://github.com/01Space/ESP32-C3-0.42LCD</a></li>
</ul>
<h1>define LED_PIN 2 : WS2812B</h1>
<!-- 

## Debugging

Flashing ESP32-C3 using built-in usb serial/jtag controller
<https://esp32.com/viewtopic.php?f=2&t=24419>

<https://code.visualstudio.com/docs/cpp/launch-json-reference>

<https://docs.espressif.com/projects/esp-idf/en/v4.3/esp32c3/api-guides/jtag-debugging/index.html?highlight=debug>

<https://www.wemos.cc/en/latest/c3/c3_mini.html>


{
  // Use IntelliSense to learn about possible attributes.
  // Hover to view descriptions of existing attributes.
  // For more information, visit: <https://go.microsoft.com/fwlink/?linkid=830387>
  "version": "0.2.0",
  "configurations": [
      {
    "name": "ESP-Prog Debug",
    "type": "gdb",
    "request": "launch",
    "target": "./build/HelloWorld.ino.elf",
    "cwd": "${workspaceFolder}",
    "gdbpath": "${config:esp_gdb}",
    "preLaunchTask": "OpenOCD",
    "autorun": [
      "target remote :3333",
      "mon reset halt",
      "flushregs",
      "thb app_main",
      "c"
    ],
  }
  ]
}


Display in separate shop <https://www.smart-prototyping.com/0_42-inch-OLED-Bare-Display-72-40-SSD1306>

DataSheet: <https://www.smart-prototyping.com/image/data/2020//12/102123%20%200.42%20inch%20OLED%20Bare%20Display%20(72x40,%20SSD1306)/0.42-ZJY042-7240TSWEG01.pdf> -->


      
        <h2>Tags</h2>
        <div class="taglist"><a href="/tag/board.htm">Board</a></div>
      
  </main>

  <script>
    var mbObj = document.querySelector('#menuButton');
    var navObj = document.querySelector('nav');
    mbObj.addEventListener('click', function (e) {
      navObj.classList.toggle('open');
    });
    lazyLoadHTM('nav', '/toc.htm');
  </script>

  <script type="module" async>
    import mermaid from "https://unpkg.com/mermaid@10/dist/mermaid.esm.min.mjs";
    document.addEventListener('DOMContentLoaded', mermaid.initialize({startOnLoad: true}));
  </script>

</body>
</html>