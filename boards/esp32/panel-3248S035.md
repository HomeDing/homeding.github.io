---
title: Panel ESP32-3248S035
tags: ["Board", "WIP"]
layout: "page.njk"
description: ESP32 board with 480*320px, 16 bit LCD color touch display
excerpt: >
  This panel is using a ESP32 processor with 4M Flash Memory in combination
  with a 480*320px 16 bit color display and touch controller. This panel is supported by the
  [HomeDing Display Example]
---

This device is supported by the [HomeDing Display Example].

## Arduino Configuration

* Board: ESP32 Dev Module
* PSRAM: disabled
* CPU: 240 MHz
* Flash Mode: DIO
* Flash: 4MB

``` txt
{
    "board": "espressif:esp32:esp32",
    "configuration": "JTAGAdapter=default,PSRAM=disabled,PartitionScheme=default,CPUFreq=240,FlashMode=dio,FlashFreq=80,FlashSize=4M,UploadSpeed=921600,LoopCore=1,EventsCore=1,DebugLevel=none,EraseFlash=none"
}
```

## Components

The following components are available on the board:

* LCD ST7796 320 * 480 px using SPI bus
* IO27 -- LCD Backlight
* GT911 Touch Controller using i2c bus
* SD card
* RGB LED
* IO34 -- Light sensor

This device configuration can be used:

``` JSON
{
  "device": {
    "0": {
      "name": "panel480",
      "title": "Panel480",
      "description": "Panel with 480 px",
      "loglevel": "2",
      "xbutton": "D3",
      "xled": "4",
      "logfile": 1,
      "safemode": "false",
      "homepage": "/board.htm",
      "cache": "max-age=600",
      "i2c-SDA": "33",
      "i2c-SCL": "32"
    }
  },
  "ota": {
    "0": {
      "port": 8266,
      "passwd": "123"
    }
  },
  "ntptime": {
    "on": {
      "zone": "CET-1CEST,M3.5.0,M10.5.0/3"
    }
  },
  "light": {
    "l": {
      "pin": "4,16,17",
      "mode": "pwm",
      "invert": "true",
      "enable": "true"
    }
  },
  "color": {
    "l": {
      "title": "RGB",
      "loglevel": 2,
      "config": "RGB",
      "mode": "fix",
      "duration": "4s",
      "value": "x004466aa",
      "brightness": "20",
      "connect": [ "light/l" ]
    }
  },
  "DisplayST7796": {
    "0": {
      "height": "480",
      "width": "320",
      "color": "x000000",
      "background": "xccccff",
      "lightpin": 27
    }
  },
  "DisplayTouchGT911": {
    "0": {
      "address": "0x5D"
    }
  }
}
```

--

Download of files is available at <http://www.jczn1688.com/zlxz>, Download passwort: jczn1688


## Adafruit_GFX restrictions and rework requests

Canvas classes cannot be sub-classed for implementing specific displays:

* The buffer allocation is inside the provate implementation and cannot be changed.
Some displays require display memory to be allocated in a specific way e. g. when display is using DMA for data transfer.

* Colors are fixed to maximum 16 bit (physical) within all color parameters
  but displays supporting rgb888 (24 bit) are already available.

* Graphical "objects" like buttons should by refactored to be additional objects.
  As they may overlap or update on their own a layer upon the GFX is required to redraw defined objects when required.

* Some implementations treat "textsize" as a multiple of the builtin font size. A "registered/available" fonts manager is missing.

* uint16_t color - to color type definitions
* may include a color scheme for objects.

* buffer memory allocation and handling is
