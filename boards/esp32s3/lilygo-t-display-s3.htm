
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="google-site-verification" content="7tTF0t5uCMnyE6X31OIOQpcOf4QxWuODtyZLoVsKCEc"/>
    <meta name="msvalidate.01" content="7FC9C7BCD4002EBD89AAC2EF63D7B353"/>
    <link rel="icon" type="image/png" href="/favicon48.png" sizes="48x48">
    <title>LilyGO T-Display-S3</title>
    <meta name='description' content='ESP32-S3 board with integrated TFT color display.'>
    <link content-type="text/css" href="/docstyle.css" rel="stylesheet"/>
    <script src="/pages.js"></script>
    <script src="/story.js" type="module"></script>
  </head>
  <body scroll="0" style="padding:0;">
    <div class="u-navbar" style="margin-bottom: 0;">
      <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 48 48" id="menuButton" class="button" style="height:1.4rem">
        <path fill="white" d="M0 8h48v6H0zm0 13h48v6H0zm0 13h48v6H0z"/>
      </svg>
      <a href="/index.htm" class="button">Home</a>
      <a href="/elements/index.htm" class="button">Elements</a>
      <a href="/boards/index.htm" class="button">Boards</a>
      <a href="/recipes/index.htm" class="button">Recipes</a>
    </div>
    <nav></nav>
    <main style="padding:1rem;max-width: 800px;">
      <h1>LilyGO T-Display-S3</h1>
      
        
            <div class="plaincard">
            
            The LilyGO T-Display-S3 board offer an integrated TFT color display with optional capacitive touch and a USB-C type connector.

          </div>
        
        <p>This board is based on a ESP32-C3 module.</p>
<h2>Arduino Board Configuration</h2>
<p>The board is known in the list of board configurations for esp32 by espresif.
It can be used with the following Arduino settings:</p>
<ul>
<li>
<p>Package: esp32 by Espressif</p>
</li>
<li>
<p>Board: LilyGO T-Display-S3</p>
</li>
<li>
<p>JTAG Adapter: Disbled</p>
</li>
<li>
<p>Arduino Runs On: Core 1</p>
</li>
<li>
<p>Events Runs On: Core 1</p>
</li>
<li>
<p>USB Mode: Hardware CDC amd JTAG</p>
</li>
<li>
<p>USB CDC On Boot: Enabled</p>
</li>
<li>
<p>USB Firmware MSC on Boot: Disabled</p>
</li>
<li>
<p>USB DFU on Boot: Disabled</p>
</li>
<li>
<p>Upload Mode: UAT0 / Hardware CDC</p>
</li>
<li>
<p>Partition Scheme: 16M Flash (3MB APP/9.9MB FATS)</p>
</li>
<li>
<p>Core Debug Level: None</p>
</li>
<li>
<p>Erase All Flash: Disabled</p>
</li>
</ul>
<!--

![TTGO T-Display](/boards/esp32/ttgo-t-display.jpg)

* ESP32-D0WD-Q6 Processor (Dual core, 240Mhz  processor)
* Display: IPS ST7789V 1.14 Inch display, 135 * 240 pixels, 64k colors
* 3.7V battery charging circuit
* Supply voltage: 3.3V DC or 5V DC
* SRAM: 520KB
* Flash memory: 4MByte in QIO Mode
* PCB dimensions: 51.4 x 25.2mm
* JST Connector: 2Pin 1.25mmx
* USB: Type-C
* USB-Bridge: CP2104 chip


## Arduino Board Configuration

The board can be used with the following Arduino settings:

* Package: esp32 by Espressif
* Board: ESP32 Dev Module

* JTAG Adapter: Disbled
* PSRAM: Disbled
* Partition Scheme: Default 4MB with spiffs (1.2MB APP/1.5MB SPIFFS)
* CPU Frequency: 240MHz
* Flash Mode: **QIO**
* Flash Frequency: 80 MHz
* Flash Size: 4MByte (32Mbit)
* Upload Speed: 921600
* Arduino Runs On: Core 1
* Events Runs On: Core 1
* Core Debug Level: None
* Erase All Flash: Disabled


## Display ST7789

The display is a IPS type TFT display using the ST7789 driver chip on the SPI bus. It is
supported by the `GFX Library for Arduino`.

The chip supports a maximal display resolution of 240\*320 pixels in 262k colors but this
display only supports 135\*240 pixels with 64k colors in RGB565 addressing.

Therefore the display offsets must be specified in the configuration.

See configuration in `env.json` below.


## External Connectors

Some power and GPIO pins are available for external components:

``` txt
    +-------------+
    |   T T G O   |
G   | +---------+ | 3V
G   | |    D    | | 36
21  | |    I    | | 37
22  | |    S    | | 38
17  | |    P    | | 39
2   | |    L    | | 32
15  | |    A    | | 33
13  | |    Y    | | 25
12  | |         | | 26
G   | |         | | 27
G   | |         | |  G
3V  | |         | | 5V
    | +---------+ |
    |             B-RST
    | B-2     B-1 |
    +-----USB-----+
```


## Internal GPIO usages

| Name       | GPIO | Remarks                        |
| ---------- | ---: | ------------------------------ |
| TFT_MISO   |      | n/a                            |
| TFT_MOSI   |   19 | usually MISO on Arduino Setups |
| TFT_SCLK   |   18 | = Arduino Standard             |
| TFT_CS     |    5 |                                |
| TFT_DC     |   16 |                                |
| TFT_RST    |   23 |                                |
| TFT_BL     |    4 | TFT Backlight    |
| ADC_IN     |   34 | (Batt_ADC)                     |
| BUTTON1    |   35 |                                |
| BUTTON2    |    0 |                                |
| ADC Power  |   14 |                                |

The TFT is not connected to the usual SPI pins.
The data pin is attached to pin 19 that is usually used for SPI data input (MISO). As the SPI bus and all TFT connections are not available on the board pins so there will be no conflict.

The Backlight can be dimmed by using a GPIO 4 and can be used to adjust the brightness.


## Example env.json Device Configuration 

``` json
{
  "device": {
    "0": {
      "name": "tdisplay",
      "title": "T-Display",
      "description": "LilyGO TTGO T-Display",
      "safemode": "false",
      "button": 0,
      "homepage": "/index.htm"
    }
  },

  "ota": { "0": {} },

  "DisplayST7789": {
    "0": {
      "description": "ST7789 Display",
      "width": "135",
      "height": "240",

      "rotation": "180",
      "colOffset": "52",
      "rowOffset": "40",
      "ips": "true",

      "lightpin": "4",
 
      "spimosi": "19",
      "spiCLK": "18",
      "spics": "5",
      "spidc": "16",
    
      "spiRST": "23"
    }
  },

  "value": {
    "dim": {
      "title": "Display Backlight",
      "description": "Manual Backlight control",
      "min": "0",
      "max": "100",
      "value": "50",
      "onvalue": "DisplayST7789/0?brightness=$v"
    }
  }
}
```


## See also

* [Display Elements](/elements/display/index.md)
* [ST7789 Display Element](/elements/display/st7789.md)
* [SPI](/dev/spi.md)
* <http://www.lilygo.cn/prod_view.aspx?TypeId=50062&Id=1400&FId=t3:50062:3>
* <https://github.com/Xinyuan-LilyGO/TTGO-T-Display>


https://github.com/teastainGit/LilyGO-T-display-S3-setup-and-examples

https://github.com/Xinyuan-LilyGO/T-Display-S3


 -->
<pre class="language-json"><code class="language-json">
<span class="token punctuation">{</span>
 <span class="token property">"device"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token property">"0"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">"tdisplays3"</span><span class="token punctuation">,</span>
     <span class="token property">"title"</span><span class="token operator">:</span> <span class="token string">"LilyGO T-Display-S3"</span><span class="token punctuation">,</span>
     <span class="token property">"description"</span><span class="token operator">:</span> <span class="token string">"LilyGO T-Display-S3R8 with capacitive touch"</span><span class="token punctuation">,</span>
     <span class="token property">"loglevel"</span><span class="token operator">:</span> <span class="token string">"2"</span><span class="token punctuation">,</span>
     <span class="token property">"logfile"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
     <span class="token property">"safemode"</span><span class="token operator">:</span> <span class="token string">"false"</span><span class="token punctuation">,</span>
     <span class="token property">"homepage"</span><span class="token operator">:</span> <span class="token string">"/board.htm"</span><span class="token punctuation">,</span>
     <span class="token property">"xcache"</span><span class="token operator">:</span> <span class="token string">"etag"</span><span class="token punctuation">,</span>
     <span class="token property">"i2c-SDA"</span><span class="token operator">:</span> <span class="token string">"18"</span><span class="token punctuation">,</span>
     <span class="token property">"i2c-SCL"</span><span class="token operator">:</span> <span class="token string">"17"</span><span class="token punctuation">,</span>
     <span class="token property">"battery_volt"</span><span class="token operator">:</span> <span class="token string">"4"</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token property">"ota"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token property">"0"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token property">"diag"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token property">"0"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token property">"DisplayST7789"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token property">"0"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">"busmode"</span><span class="token operator">:</span> <span class="token string">"par8"</span><span class="token punctuation">,</span>
     <span class="token property">"buspins"</span><span class="token operator">:</span> <span class="token string">"39, 40, 41, 42, 45, 46, 47, 48"</span><span class="token punctuation">,</span>
     <span class="token property">"ips"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
     <span class="token property">"width"</span><span class="token operator">:</span> <span class="token string">"170"</span><span class="token punctuation">,</span>
     <span class="token property">"height"</span><span class="token operator">:</span> <span class="token string">"320"</span><span class="token punctuation">,</span>
     <span class="token property">"rotation"</span><span class="token operator">:</span> <span class="token string">"270"</span><span class="token punctuation">,</span>
     <span class="token property">"rowOffset"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
     <span class="token property">"colOffset"</span><span class="token operator">:</span> <span class="token number">35</span><span class="token punctuation">,</span>
     <span class="token property">"resetpin"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
     <span class="token property">"lightpin"</span><span class="token operator">:</span> <span class="token number">38</span><span class="token punctuation">,</span>
     <span class="token property">"cspin"</span><span class="token operator">:</span> <span class="token string">"6"</span><span class="token punctuation">,</span>
     <span class="token property">"dcpin"</span><span class="token operator">:</span> <span class="token string">"7"</span><span class="token punctuation">,</span>
     <span class="token property">"wrpin"</span><span class="token operator">:</span> <span class="token string">"8"</span><span class="token punctuation">,</span>
     <span class="token property">"rdpin"</span><span class="token operator">:</span> <span class="token string">"9"</span><span class="token punctuation">,</span>
     <span class="token property">"color"</span><span class="token operator">:</span> <span class="token string">"black"</span><span class="token punctuation">,</span>
     <span class="token property">"border"</span><span class="token operator">:</span> <span class="token string">"black"</span><span class="token punctuation">,</span>
     <span class="token property">"background"</span><span class="token operator">:</span> <span class="token string">"#cccccc"</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token property">"DisplayTouchCST816"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
   <span class="token property">"0"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token property">"width"</span><span class="token operator">:</span> <span class="token string">"170"</span><span class="token punctuation">,</span>
     <span class="token property">"height"</span><span class="token operator">:</span> <span class="token string">"320"</span><span class="token punctuation">,</span>
     <span class="token property">"rotation"</span><span class="token operator">:</span> <span class="token string">"270"</span><span class="token punctuation">,</span>
     <span class="token property">"resetpin"</span><span class="token operator">:</span> <span class="token number">21</span><span class="token punctuation">,</span>
     <span class="token property">"interruptpin"</span><span class="token operator">:</span> <span class="token number">16</span>
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<h2>See Also</h2>
<ul>
<li><a href="https://github.com/Xinyuan-LilyGO/T-Display-S3">https://github.com/Xinyuan-LilyGO/T-Display-S3</a></li>
<li><a href="/elements/display/touchcst816.htm">Display TouchCST816 Element</a></li>
<li><a href="/elements/display/st7789.htm">Display ST7789 Element</a></li>
</ul>

        
          <h2>Tags</h2>
          <div class="taglist">
            
              <a href="/tag/board.htm">Board</a>
            
              <a href="/tag/wip.htm">Wip</a>
            
          </div>
        
      </main>
      <script>
        const param = {
          MENU_MIN_WIDTH: 1030
        };
        var mbObj = document.querySelector('#menuButton');
        var navObj = document.querySelector('nav');
        if (window.innerWidth > param.MENU_MIN_WIDTH) { // menu is inside the page
          navObj.classList.add('open');
          navObj.classList.add('inpage');
        }
        mbObj.addEventListener('click', function (e) {
          navObj.classList.toggle('open');
        });
        lazyLoadHTM('nav', '/toc.htm');
      </script>

      <script type="module" async>
        import mermaid from "https://unpkg.com/mermaid@10/dist/mermaid.esm.min.mjs";
        document.addEventListener('DOMContentLoaded', mermaid.initialize({startOnLoad: true}));
      </script>

    </body>
  </body>
</html>